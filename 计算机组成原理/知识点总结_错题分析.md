# 📚 计算机组成原理 知识点总结

> **生成时间**：2025-12-15
> **复习范围**：Ch12 指令集、Ch13 寻址方式、Ch7 I/O系统

---

## ⚠️ 错题重点（必看！）

### Ch12 指令集

| 错题 | 正确答案 | 你的答案 | 核心要点 |
|------|---------|---------|---------|
| Q18 指令字长计算 | C (28位) | - | 多格式指令需考虑操作码区分位 |

---

### Ch13 寻址方式

| 错题 | 正确答案 | 你的答案 | 核心要点 |
|------|---------|---------|---------|
| Q5 立即寻址缺点 | C (值范围有限) | D | 立即数嵌在指令中，位数有限 |
| Q6 寄存器间接寻址 | A (寄存器) | D | EA在寄存器中，不是PC |
| Q8 减少地址位数 | D (寄存器寻址) | A | 寄存器少，4-5位即可编址 |
| Q10 数组访问 | D (变址寻址) | A | 数组遍历用变址，不是相对寻址 |
| Q16 最快访问方式 | C (寄存器寻址) | A | 寄存器在CPU内部，最快 |

---

### Ch7 I/O系统

| 错题 | 正确答案 | 你的答案 | 核心要点 |
|------|---------|---------|---------|
| Q5 键盘输入 | A (中断I/O) | B | 低速随机设备用中断，不要轮询 |
| Q9 中断vs程序I/O | C (不用轮询) | D | 中断只解决轮询问题，还要干预传输 |
| Q12 I/O接口寄存器 | C (II,III,V) | B | IR和MAR在CPU中，不在I/O接口 |
| Q13 中断信号方向 | D (中断请求) | A | 中断请求是发给CPU的！ |
| Q14 数据总线传输 | D (全部) | A | 命令字、状态字、中断号都走数据总线 |

---

### Ch14 处理器结构 ⭐新增

| 错题 | 正确答案 | 你的答案 | 核心要点 |
|------|---------|---------|---------|
| Q6 流水线性能 | A (级数) | C | 级数越多，吞吐率越高 |
| Q7 CPU寄存器分类 | D (用户可见vs控制) | A | 顶层分类不是数据/地址寄存器 |
| Q8 PC位长 | A (内存容量) | B | PC存地址，决定可寻址空间 |
| Q9 中断确认周期 | C (中断周期) | D | 不是执行周期！ |

---

## 📖 Ch12 指令集 知识点

### 1. 指令地址数
| 地址数 | 操作数来源 | 典型用途 |
|-------|-----------|---------|
| 零地址 | 堆栈顶 | 堆栈计算机 |
| 一地址 | 累加器+内存 | 简单运算 |
| 二地址 | 两个内存/寄存器 | 常见格式 |
| 三地址 | 两源+一目的 | RISC风格 |

### 2. 扩展操作码
**核心公式**：下级可用指令数 = 剩余编码 × 2^(地址位数)

**计算步骤**：
1. 先算高地址指令的操作码位数
2. 看剩余多少编码可扩展
3. 剩余编码 × 2^(地址位数) = 下级可用指令数

### 3. 程序控制指令
- 功能：**改变程序执行顺序**
- 包括：分支、跳转、循环、子程序调用
- 不包括：算术运算、数据传送

---

## 📖 Ch13 寻址方式 知识点

### 1. 寻址方式汇总表

| 寻址方式 | 有效地址EA | 访存次数 | 典型用途 |
|---------|-----------|---------|---------|
| 立即寻址 | 无（操作数在指令中） | 0 | 常数赋值 |
| 寄存器寻址 | 无（操作数在寄存器） | 0 | **最快访问** |
| 直接寻址 | EA = A | 1 | 简单变量 |
| 间接寻址 | EA = (A) | 2 | 扩大寻址范围 |
| 寄存器间接 | EA = (R) | 1 | 指针访问 |
| 基址寻址 | EA = (BR) + D | 1 | **程序重定位** |
| 变址寻址 | EA = (IX) + D | 1 | **数组遍历** |
| 相对寻址 | EA = (PC) + D | 1 | **分支跳转** |

### 2. 常见对比题

| 问题 | 答案 |
|------|------|
| 最快的寻址方式 | **寄存器寻址**（CPU内部） |
| 减少地址位数 | **寄存器寻址**（寄存器少） |
| 数组访问 | **变址寻址**（改变索引） |
| 程序重定位 | **基址寻址**（改变基址） |
| 分支跳转 | **相对寻址**（PC+偏移） |

### 3. 位移寻址三兄弟
- **基址寻址**：EA = (BR) + D
- **变址寻址**：EA = (IX) + D  
- **相对寻址**：EA = (PC) + D

**间接寻址不属于位移寻址！**（没有加法运算）

---

## 📖 Ch7 I/O系统 知识点

### 1. 三种I/O技术对比

| 技术 | CPU参与度 | 轮询 | 干预传输 | 适用场景 |
|------|----------|------|---------|---------|
| 程序I/O | 最高 | ✓ | ✓ | 简单设备 |
| 中断I/O | 中等 | ✗ | ✓ | **键盘**等低速设备 |
| DMA | 最低 | ✗ | ✗ | **磁盘**等高速设备 |

### 2. I/O技术选择口诀
- **键盘** → 中断I/O（低速、随机）
- **磁盘** → DMA（高速、块传输）
- **打印机** → 中断I/O

### 3. DMA关键特性
- **周期窃取**：DMA在CPU不用总线时"偷"周期
- **不能执行指令**：只能搬运数据
- **中断时机**：完成整块传输后才中断

### 4. I/O接口中的寄存器
- ✓ 控制寄存器、状态寄存器、数据缓冲寄存器
- ✗ 指令寄存器(IR)、存储器地址寄存器(MAR) — 这些在CPU中

### 5. 数据总线传输的信息
- 命令字 ✓
- 状态字 ✓
- 中断类型号 ✓
- **中断请求信号** ✗（这是单独的控制线）

### 6. I/O编址方式
| 方式 | 区分方法 | 特点 |
|------|---------|------|
| 统一编址 | 地址范围不同 | 用访存指令访问I/O |
| 独立编址 | 控制信号不同 | 需专用I/O指令 |

---

## 🎯 考前速记卡片

### 卡片1：寻址方式用途
```
基址 → 重定位
变址 → 数组
相对 → 跳转
```

### 卡片2：I/O技术选择
```
键盘 → 中断（别轮询！）
磁盘 → DMA（块传输！）
```

### 卡片3：CPU参与度排序
```
程序I/O > 中断I/O > DMA
```

### 卡片4：访问速度排序
```
寄存器 > Cache > 主存 > 磁盘
```

---

祝考试顺利！🎯
