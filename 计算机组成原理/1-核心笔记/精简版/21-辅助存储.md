# 21-辅助存储：机械与电子的档案馆

> **核心视角**：辅助存储（硬盘/SSD）是计算机的**档案馆**。
> 这里的状态是**持久化**的（断电不丢失），容量是**巨大**的，但访问速度受限于**物理机制**（机械臂移动或闪存擦写），比 CPU 慢几个数量级。
> 最后更新：2025年1月

---

## 一、机械硬盘 (HDD)：物理运动的慢动作

HDD 的读写本质上是**机械运动**。

1.  **寻道 (Seek)**：磁头臂移动到指定的**柱面 (Cylinder)**。这是最慢的一步（毫秒级）。
2.  **旋转 (Rotate)**：等待目标**扇区 (Sector)** 转到磁头下方。取决于转速（如 7200 RPM）。
3.  **传输 (Transfer)**：磁生电，电生磁。

**调度算法**：为了减少机械臂的移动，操作系统必须对读写请求进行**重排**。
*   **SCAN (电梯算法)**：像电梯一样，从内圈扫到外圈，再扫回来。避免磁头胡乱跳动。

## 二、固态硬盘 (SSD)：电子状态的跃迁

SSD 没有机械部件，它利用**浮栅晶体管**中捕获的电子数量来存储状态。

*   **读快写慢**：读取只是检测电压，极快。写入需要擦除整个块（Block），极慢且损耗寿命。
*   **磨损均衡 (Wear Leveling)**：控制器通过算法将写入操作均匀分散到所有存储单元，避免某一块被写坏。

## 三、RAID：用数量换质量

单个磁盘既慢又不安全。RAID 技术通过**组合**多个磁盘来改变这一状态。

*   **RAID 0 (条带化)**：数据切块，并行写入 N 个盘。**速度 N 倍，安全性 0**（坏一个全完）。
*   **RAID 1 (镜像)**：数据同时写入 2 个盘。**速度 1 倍，安全性 2 倍**。
*   **RAID 5 (奇偶校验)**：N+1 个盘。利用异或运算存储校验位。**速度接近 N 倍，允许坏 1 个盘**。

---

## 四、总结

*   辅助存储是**I/O 系统**的一部分，而不是存储系统（内存）的一部分。
*   CPU 无法直接执行硬盘上的指令，必须先通过 DMA 将其**搬运**（Copy）到内存这个“工作台”上。
*   所有的文件系统、数据库，本质上都是在管理这个**巨大但笨重**的持久化状态空间。
