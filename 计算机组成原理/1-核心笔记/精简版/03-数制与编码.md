# 03-数制与编码：现实信息与机器状态的桥梁

> **核心视角**：**编码**是将现实世界的**信息**（数字、文字）映射为计算机内部**状态**（二进制位串）的**函数**。
> 最后更新：2025年1月

---

## 一、数制：状态的计数方式

计算机内部只有**状态**（0和1），我们需要一种规则来解释这些状态所代表的数量。

### 1. 进制转换：翻译函数
*   **二进制 (Binary)**：机器的母语。
    *   **状态**：`1011`
    *   **本质**：开关的组合。
*   **十六进制 (Hex)**：二进制的速记符。
    *   **功能**：为了让人类更容易阅读和书写二进制状态。
    *   **映射**：每4位二进制状态 $\leftrightarrow$ 1位十六进制字符。
    *   `1011 0110` $\leftrightarrow$ `B6`

### 2. 为什么是二进制？
*   **物理实现的必然**：晶体管作为开关，只有"通"（1）和"断"（0）两种稳定状态。
*   **抗干扰**：区分高低电平比区分十个电压等级要容易得多。

> **通俗类比：手指计数**
> *   **十进制**：因为人类有 10 根手指，所以我们习惯逢十进一。
> *   **二进制**：计算机只有“两根手指”（开关通/断），所以只能逢二进一。
> *   **十六进制**：相当于把 4 根手指捆成一组来数数，是为了让人类看二进制时不那么眼花缭乱。

---

## 二、BCD码：为了人类的执念

**BCD (Binary-Coded Decimal)** 是一种特殊的编码，它试图在二进制的世界里强行保留十进制的特征。

*   **映射规则**：每4位二进制状态表示1位十进制数（0-9）。
*   **代价**：
    *   **浪费状态空间**：4位二进制能表示16种状态，BCD只用了10种（1010-1111被浪费）。
    *   **增加函数复杂度**：ALU在进行BCD运算时需要额外的修正电路（如加6修正）。
*   **收益**：
    *   **精确性**：避免了十进制小数转二进制时的精度丢失（如 0.1 在二进制是无限循环小数）。
>     *   **通俗类比：会计账本**。会计师最讨厌“大约”、“可能”，他们要求每一分钱都精确。虽然 BCD 码像一本“写得很稀疏的账本”（浪费空间），但它保证了每一笔账都能精确对应到现实世界的钱数（精确性）。
    *   **应用**：金融系统（钱不能算错）。
    *   **应用**：金融系统（钱不能算错）。

---

## 三、字符编码：文本的状态化

字符编码是一张巨大的**查找表**，定义了如何将文字符号映射为二进制状态。

### 1. ASCII：英语世界的各种状态
*   **规模**：7位（128种状态）。
*   **内容**：英文字母、数字、控制符号。
*   **本质**：一个字节（8位）的一半状态空间就足够表示所有英语字符。

### 2. Unicode/UTF-8：巴别塔的重建
*   **Unicode**：给世界上每个字符分配一个唯一的ID（Code Point）。
*   **UTF-8**：一种**变长编码函数**，将Unicode ID转换为字节序列。
    *   **设计智慧**：
        *   兼容ASCII（0-127保持单字节）。
        *   自同步（根据首字节就能知道这个字符占几个字节）。
    *   **状态效率**：常用字符（英文）占空间少，生僻字符占空间多。

> **通俗类比：通用字典**
> *   **ASCII**：一本薄薄的《英语袖珍词典》，只能查英文。
> *   **Unicode**：一本厚重的《世界万国全书》，给每个字都编了号。
> *   **UTF-8**：一种聪明的“页码索引法”。
>     *   查常用字（英文）：告诉你“第1页”（1字节）。
>     *   查生僻字（中文）：告诉你“第100卷第50页”（3字节）。
>     *   **好处**：既能查所有字，又不会让每个人出门都背着整套全书（节省空间）。

---

## 四、总结

*   **数制**是数量的二进制表示。
*   **编码**是信息的二进制映射。
*   所有的编码方案都是在**状态空间利用率**（存得下多少）和**处理函数复杂度**（好不好算）之间做权衡。
icnude
