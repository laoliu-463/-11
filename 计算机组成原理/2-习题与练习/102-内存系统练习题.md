# 102-内存系统练习题 (Memory System Exercises)

> **简介**：本文件收录了内存系统相关的练习题，涵盖存储层次、Cache、主存、虚拟内存、RAID等考点。
> **Introduction**: This file contains exercises related to the Memory System, covering memory hierarchy, Cache, Main Memory, Virtual Memory, RAID, etc.
> **来源**：用户提供
> **最后更新**：2025年1月

---

## 一、单选题 (Multiple Choice Questions)

1. **地址长度为 32 位，因此寻址范围（或地址范围）为_______。**
   **The address length is 32 bits, so the addressing range (or address range) is _______.**
    A. 4G
    B. 从 -2G 到 2G (From -2G to 2G)
    C. 4G-1
    D. 从1G到4G (From 1G to 4G)

    > **解析 (Explanation)**: 地址长度为32位，可表示 2³² 个不同的地址 (32-bit address can represent 2^32 distinct addresses)。 2³² = 4,294,967,296 = 4G。 寻址范围通常指可访问的地址单元总数，即 4G。
>


2. **关于冯·诺依曼架构的基本概念，下列哪项陈述是错误的？**
   **Which of the following statements about the basic concepts of Von Neumann architecture is incorrect?**
    A. 程序功能是通过CPU执行指令来实现的 (Program function is realized by CPU executing instructions)
    B. 指令和数据都以二进制表示，没有正式的区别 (Instructions and data are both represented in binary, with no formal distinction)
    C. 指令通过地址访问，数据则直接在指令中提供 (Instructions are accessed by address, while data is provided directly in the instruction)
    D. 程序执行之前，指令和数据必须存储在内存中 (Instructions and data must be stored in memory before program execution)

    > **解析 (Explanation)**: **C错误**：指令通过地址访问，数据也可以通过地址访问（如直接寻址、间接寻址），不一定"直接在指令中提供"（立即寻址才是）(Data can also be accessed by address, not necessarily provided directly in the instruction)。
>


3. **最简单的指令处理形式由两个周期组成：_________。**
   **The simplest form of instruction processing consists of two cycles: _________.**
    A. 获取和间接 (Fetch and Indirect)
    B. 获取并执行 (Fetch and Execute)
    C. 间接执行 (Indirect Execute)
    D. 获取和中断 (Fetch and Interrupt)

    > **解析 (Explanation)**: 最基本的指令周期包括：**取指 (Fetch)** 和 **执行 (Execute)**。
>


4. **如果一台计算机的字长为 4B，则表明该机器_________。**
   **If the word length of a computer is 4B, it indicates that the machine _________.**
    A. 可处理 4位 十进制数字 (Can process 4-digit decimal numbers)
    B. 能够处理4位 二进制数字 (Can process 4-bit binary numbers)
    C. 能够处理 32 位二进制代码 (Can process 32-bit binary code)
    D. CPU运算的最大结果为2³² (The maximum result of CPU operation is 2^32)

    > **解析 (Explanation)**: 4B = 4 Bytes = 32 bits。 字长是指CPU一次能处理的二进制位数 (Word length refers to the number of bits CPU can process at once)。
>


5. **计算机内存系统指的是________**
   **Computer memory system refers to ________**
    A. 内存 (Memory)
    B. 只读存储器 (Read-Only Memory)
    C. 主内存 (Main Memory)
    D. 寄存器、主存储器、高速缓存、外部存储器 (Registers, Main Memory, Cache, External Memory)

    > **解析 (Explanation)**: 内存系统包括整个存储层次结构 (Memory system includes the entire storage hierarchy)。
>


6. **在缓存地址映射中，主内存的任何一块都可以映射到缓存的任何一行，这是__________**
   **In cache address mapping, any block of main memory can be mapped to any line of the cache. This is __________**
    A. 关联映射 (Associative Mapping)
    B. 直接映射 (Direct Mapping)
    C. 集合关联映射 (Set Associative Mapping)
    D. 随机映射 (Random Mapping)

    > **解析 (Explanation)**: 全相联映射（Associative Mapping）允许主存块映射到Cache的任意位置。
>


7. **一个 16KB 的缓存，其行大小为四个 32 位字，行数为**
   **A 16KB cache has a line size of four 32-bit words. The number of lines is**
    A. 2¹⁰
    B. 10
    C. 2⁸
    D. 8

    > **解析 (Explanation)**: Cache Size = 16KB = 16384 Bytes. Line Size = 4 * 32 bits = 16 Bytes. Number of Lines = 16384 / 16 = 1024 = 2¹⁰.
>


8. **假设机器字长为 32 位，存储容量为 16 MB，如果 CPU 使用半字寻址，则可寻址单元的数量为_______。**
   **Assuming the machine word length is 32 bits and the memory capacity is 16 MB, if the CPU uses half-word addressing, the number of addressable units is _______.**
    A. 2²⁴
    B. 2²³
    C. 2²²
    D. 2²¹

    > **解析 (Explanation)**: Capacity = 16MB = 2²⁴ Bytes. Half-word = 16 bits = 2 Bytes. Addressable units = 2²⁴ / 2 = 2²³.
>


9. **一个 2 路组相联高速缓存有 16 行。主存块大小为 32 字节，内存按字节寻址。内存地址 129 处的字映射到哪个组？**
   **A 2-way set-associative cache has 16 lines. Main memory block size is 32 bytes, byte-addressable. To which set does the word at memory address 129 map?**
    A. 0
    B. 2
    C. 4
    D. 6

    > **解析 (Explanation)**: Sets = 16 lines / 2 = 8 sets. Block address = 129 / 32 = 4. Set index = 4 mod 8 = 4.
>


10. **最简单的技术称为____________。使用这种技术，所有写入操作都会同时写入主内存和缓存。**
    **The simplest technique is called ____________. With this technique, all write operations are written to both main memory and cache simultaneously.**
    A. 写回 (Write-back)
    B. 通写式 (Write-through)
    C. 写入无效 (Write-invalidate)
    D. 写入更新 (Write-update)

    > **解析 (Explanation)**: **通写式 (Write-through)**：同时更新Cache和主存 (Updates both Cache and Main Memory)。
>


11. **在以下内存中，CPU 无法直接访问的是________。**
    **Among the following memories, the one that CPU cannot access directly is ________.**
    A. 硬盘 (Hard Disk)
    B. 主内存 (Main Memory)
    C. 缓存 (Cache)
    D. 寄存器 (Register)

    > **解析 (Explanation)**: 硬盘属于外部存储器，CPU必须通过I/O接口访问 (Hard disk is external storage, accessed via I/O interface)。
>


12. **Suppose a Cache has M lines, and a set has K lines. Which of the following descriptions is correct?**
    **假设一个 Cache 有 M 行，一个组有 K 行。下列哪个描述是正确的？**
    A. If K=1, this Cache is direct mapping (如果 K=1，该 Cache 是直接映射)
    B. If K=1, this Cache is associative mapping (如果 K=1，该 Cache 是全相联映射)
    C. If K=M, this Cache is direct mapping (如果 K=M，该 Cache 是直接映射)
    D. If K>1 and K<M, this Cache is a M/K-way set-associative mapping (如果 K>1 且 K<M，该 Cache 是 M/K 路组相联映射)

    > **解析 (Explanation)**: K=1 意味着每组只有一行，即直接映射 (K=1 means 1 line per set, which is direct mapping)。
>


13. **Which type of memory contains a permanent pattern of data that cannot be changed?**
    **哪种类型的存储器包含不可更改的永久数据模式？**
    A. SRAM
    B. DRAM
    C. EPROM
    D. PROM

    > **解析 (Explanation)**: **PROM** (Programmable Read-Only Memory) 一旦编程，数据就永久固定 (Once programmed, data is permanent)。
>


14. **A memory has a capacity of 32K×16 bits. Which of the following descriptions is correct?**
    **一个存储器的容量为 32K×16 位。下列哪个描述是正确的？**
    A. It has 16 address lines and 32 data lines (它有 16 条地址线和 32 条数据线)
    B. It has 32 address lines and 16 data lines (它有 32 条地址线和 16 条数据线)
    C. It has 15 address lines and 16 data lines (它有 15 条地址线和 16 条数据线)
    D. It has 15 address lines and 32 data lines (它有 15 条地址线和 32 条数据线)

    > **解析 (Explanation)**: 32K = 2¹⁵ -> 15 address lines. 16 bits -> 16 data lines.
>


15. **The following are descriptions about DRAM and SRAM memory :**
    **以下是关于 DRAM 和 SRAM 存储器的描述：**
    I. DRAM has higher integration density than SRAM. (DRAM 的集成度高于 SRAM)
    II. DRAM has higher cost than SRAM. (DRAM 的成本高于 SRAM)
    III. DRAM is faster than SRAM. (DRAM 比 SRAM 快)
    IV. DRAM requires refresh during operation, while SRAM doesn't. (DRAM 运行时需要刷新，而 SRAM 不需要)
    **The incorrect statements are ________.**
    **不正确的陈述是 ________。**
    A. I & Ⅱ
    B. Ⅱ & Ⅲ
    C. Ⅲ & IV
    D. I & IV

    > **解析 (Explanation)**: DRAM 成本更低 (Lower cost)，速度更慢 (Slower speed)。所以 II 和 III 是错误的。
>


16. **Four 16K×8 bit memory chips can be designed into a memory with a capacity of**
    **四个 16K×8 位存储芯片可以设计成容量为 ______ 的存储器**
    A. 32K×16
    B. 16K×16
    C. 32K×8
    D. 8K×16

    > **解析 (Explanation)**: 4 * (16K * 8) = 512 Kbits. 32K * 16 = 512 Kbits. (Matches total capacity). 可以通过字扩展和位扩展组合实现。
>


17. **A computer has 24-bit address bus and 32-bit data bus. It is word-addressable with a word length of 32 bits. If the address range 000000H～3FFFFFH is the RAM area, then the number of required 512K×8 bit RAM chips is______.**
    **一台计算机有 24 位地址总线和 32 位数据总线。它按字寻址，字长为 32 位。如果地址范围 000000H～3FFFFFH 是 RAM 区，则所需的 512K×8 位 RAM 芯片数量是______。**
    A. 8
    B. 16
    C. 32
    D. 64

    > **解析 (Explanation)**: Address Space = 4M Words (0 to 3FFFFF). Total Capacity = 4M * 32 bits = 16 MB. Chip Capacity = 512K * 8 bits = 0.5 MB. Number of Chips = 16 / 0.5 = 32.
>


18. **On a movable head system, the time it takes for the beginning of the sector to rotate under the head is known as**
    **在移动磁头系统中，扇区起始位置旋转到磁头下方所需的时间称为**
    A. rotational delay (旋转延迟)
    B. seek time (寻道时间)
    C. transfer time (传输时间)
    D. access time (访问时间)

    > **解析 (Explanation)**: 这是**旋转延迟 (Rotational Delay/Latency)** 的定义。
>


19. **In RAID, REDUNDANT means that more disks are used for __________**
    **在 RAID 中，冗余意味着使用更多的磁盘用于 __________**
    A. enlarging capacity of disk system (扩大磁盘系统容量)
    B. improving transfer rate of system (提高系统传输速率)
    C. finding and correcting the read/write error (发现并纠正读写错误)
    D. improving reliability of disk system (提高磁盘系统的可靠性)

    > **解析 (Explanation)**: 冗余 (Redundancy) 主要用于提高**可靠性 (Reliability)**。
>


20. **If the rotational speed of a disk is doubled, then_________.**
    **如果磁盘的旋转速度加倍，那么_________。**
    A. The average seek time is halved. (平均寻道时间减半)
    B. The access speed is also doubled. (访问速度也加倍)
    C. The average rotational latency is halved. (平均旋转延迟减半)
    D. It does not affect the disk transfer rate. (不影响磁盘传输速率)

    > **解析 (Explanation)**: 转速加倍直接导致旋转一圈的时间减半，因此**平均旋转延迟减半** (Average rotational latency is halved)。
>


21. **Which of the following statements about disk storage is incorrect?**
    **下列关于磁盘存储的说法哪项是错误的？**
    A. The formatted capacity of a disk is smaller than its unformatted capacity. (磁盘的格式化容量小于未格式化容量)
    B. A sector contains data, address, and check information. (扇区包含数据、地址和校验信息)
    C. The smallest read/write unit of disk storage is 1 byte. (磁盘存储的最小读写单位是 1 字节)
    D. Disk storage consists of a disk controller, disk drive, and platters. (磁盘存储由磁盘控制器、磁盘驱动器和盘片组成)

    > **解析 (Explanation)**: 磁盘是块设备，最小读写单位是**扇区 (Sector)**，不是字节 (Smallest unit is Sector, not Byte)。
>


22. **DRAM采用地址复用技术，容量为1024×8位。其地址引脚和数据引脚的最小总数为________。**
    **DRAM uses address multiplexing technology with a capacity of 1024×8 bits. The minimum total number of its address pins and data pins is ________.**
    A. 18
    B. 13
    C. 8
    D. 17

    > **解析 (Explanation)**: 1024 = 2¹⁰ -> 10 address bits. Multiplexing -> 10/2 = 5 address pins. 8 data bits -> 8 data pins. Total = 5 + 8 = 13.
>


23. **一个 8 路组相联映射缓存大小为 128KB，每行16B。地址为1234567H 的字节被加载到这个缓存中，它的标记应该是______。**
    **An 8-way set-associative cache size is 128KB, with 16B per line. The byte at address 1234567H is loaded into this cache. Its tag should be ______.**
    A. 1234H
    B. 2468H
    C. 048DH
    D. 12345H

    > **解析 (Explanation)**: Cache Size = 128KB, Line Size = 16B -> Total Lines = 8192. 8-way -> Sets = 1024 = 2¹⁰. Offset = 4 bits (16B). Set Index = 10 bits. Address `1234567H` (24 bits assumed or calculated). Tag = Address >> (10+4) = `1234567H` >> 14 = `048DH`.
>


24. **在内存系统中，"高速缓存-主内存"结构解决了_______ 问题。**
    **In the memory system, the "Cache-Main Memory" structure solves the problem of _______.**
    A. 主内存容量不足 (Insufficient main memory capacity)
    B. 主存储器和辅助存储器之间的速度不匹配 (Speed mismatch between main memory and auxiliary memory)
    C. 辅助存储设备和 CPU 之间的速度不匹配 (Speed mismatch between auxiliary storage and CPU)
    D. 主内存和CPU速度不匹配 (Speed mismatch between main memory and CPU)

    > **解析 (Explanation)**: Cache用于解决CPU和主存之间的速度差异 (Cache bridges the speed gap between CPU and Main Memory)。
>


25. **访问磁盘上数据单元的方法是_______**
    **The method of accessing data units on a disk is _______**
    A. 随机存取 (Random access)
    B. 只读 (Read-only)
    C. 顺序访问 (Sequential access)
    D. 直接访问 (Direct access)

    > **解析 (Explanation)**: 磁盘是**直接访问 (Direct Access)** 设备。
>


---

## 二、计算题 (Calculation Questions)

26. **组相联高速缓存由 2k 条数据行（或槽位）组成，每 2k 条数据行组成一个组，每组包含 4 条数据行。主存储器包含 16M 个数据块，每个数据块包含 16 个字。**
    **A set-associative cache consists of 2k lines. Each set contains 4 lines. Main memory contains 16M blocks, and each block contains 16 words.**
    *(Note: The Chinese translation in original text "每 2k 条数据行组成一个组" seems to be a mistranslation of "Total 2k lines". Correct understanding: Total 2k lines, 4-way.)*

    **问题 (Questions)：**
    1.  写出主内存地址的格式。 (Write the format of the main memory address.)
    2.  内存地址 DEF5C6AH 中的数据映射到哪个缓存集？标签是什么？（从内存读取时） (Which cache set does the data at memory address DEF5C6AH map to? What is the tag?)
    3.  为什么标签也会存储在缓存中？ (Why is the tag also stored in the cache?)

    > **解析 (Explanation)**: （1）主内存地址格式 (Address Format) Total Lines = 2k = 2048. 4-way -> Sets = 2048 / 4 = 512 = 2⁹. -> **Set Index = 9 bits**. Block Size = 16 words. -> **Offset = 4 bits**. Main Memory = 16M blocks = 2²⁴ blocks. Total Addressable Units (Words) = 2²⁴ * 16 = 2²⁸. -> **Total Address = 28 bits**. **Tag** = 28 - 9 - 4 = **15 bits**. Format**: **Tag(15) | Set(9) | Offset(4) （2）映射 (Mapping) Address: `DEF5C6AH` = `1101 1110 1111 0101 1100 0110 1010` (28 bits) Offset (low 4): `1010` (AH) Set (next 9): `0 0110 1010` -> `06A`? No. Let's align: Hex: `D E F 5 C 6 A` Bin: `1101 1110 1111 0101 1100 0110 1010` Offset (4): `1010` (A) Set (9): `1 0110 0110` (166 H) Tag (15): `1101 1110 1111 010` (6F7A H) Mapped Set**: **166 H Tag**: **6F7A H （3）原因 (Reason) 标签用于**区分映射到同一组的不同主存块**。当CPU访问Cache时，必须比较地址中的标签和Cache行中的标签，以确定是否命中 (Tag is used to identify which memory block is currently stored in the cache line)。
>


---

## 三、分析题 (Analysis Questions)

27. **主存储器总容量为 64K × 8 位，所选 DRAM 芯片为 16K × 8 位。**
    **The total capacity of main memory is 64K × 8 bits. The selected DRAM chip is 16K × 8 bits.**

    **问题 (Questions)：**
    1.  请写出扩展方式、所用芯片数量和片选线数量。 (Write down the expansion method, number of chips used, and number of chip select lines.)
    2.  给出每个存储芯片的寻址范围。 (Give the addressing range of each memory chip.)

    > **解析 (Explanation)**: （1）扩展设计 (Expansion Design) **扩展方式**: **字扩展 (Word Expansion)** (16K -> 64K, 8 bits unchanged). **芯片数量**: 64K / 16K = **4 chips**. **片选线数量**: 需要区分4个芯片，使用2-4译码器，需要 **2** 根高位地址线作为片选逻辑输入，或者直接用 **4** 根线分别连接（通常指译码前的地址线数，即2根）。 （2）寻址范围 (Addressing Range) Total 64K = 0000H - FFFFH. **Chip 0**: 0000H - 3FFFH (0 - 16K-1) **Chip 1**: 4000H - 7FFFH (16K - 32K-1) **Chip 2**: 8000H - BFFFH (32K - 48K-1) **Chip 3**: C000H - FFFFH (48K - 64K-1)
>

