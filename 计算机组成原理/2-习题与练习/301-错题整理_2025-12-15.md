# 📋 2025-12-15 错题整理

> **复习来源**: 200-章节分类习题集.md
> **总答题**: 88道 | **正确**: 63道 | **错误**: 25道
> **总正确率**: 72%

---

## 📊 各章节统计

| 章节 | 题数 | 正确 | 错误 | 正确率 | 难度评估 |
|------|------|------|------|--------|----------|
| Ch3 (系统总线) | 12 | 11 | 1 | 92% | ★☆☆ |
| Ch4 (Cache) | 8 | 6 | 2 | 75% | ★★☆ |
| Ch5 (内存) | 11 | 9 | 2 | 82% | ★★☆ |
| Ch7 (I/O) | 14 | 10 | 4 | 71% | ★★☆ |
| Ch12 (指令系统) | 18 | 12 | 6 | 67% | ★★★ |
| Ch13 (寻址方式) | 12 | 8 | 4 | 67% | ★★★ |
| Ch15 (RISC) | 4 | 2 | 2 | 50% | ★★★ |
| Ch17 (并行处理) | 9 | 5 | 4 | 56% | ★★★ |

---

## ⭐ 薄弱知识点汇总

### 1. RISC 特征 (Ch15)
**核心要点**:
- ✅ 大量通用寄存器
- ✅ 简单寻址方式
- ✅ 寄存器到寄存器操作
- ❌ 拒绝间接寻址
- ❌ 复杂指令格式不是 RISC

**易错点**: RISC 强调简单、规整的指令格式，使用大量寄存器而非复杂寻址

---

### 2. MESI 协议 (Ch17)
**状态定义**:
- **M (Modified)**: 已修改，与主存不一致
- **E (Exclusive)**: 独占，与主存一致
- **S (Shared)**: 共享，多个Cache都有副本
- **I (Invalid)**: 无效

**状态转换规则**:
- 读操作 → 进入 Shared 状态
- 写操作 → 本地进入 Modified，其他 Cache 进入 Invalid
- 也称为 "Write-invalidate protocol"

**易错点**: 区分读操作和写操作导致的状态变化

---

### 3. 扩展操作码计算 (Ch12)
**公式**:
```
可用指令数 = 剩余编码数 × 2^(地址字段位数)
```

**例题思路**:
- 确定剩余操作码编码数量
- 乘以地址字段可表示的范围

**易错点**: 注意多格式指令需要考虑操作码区分位

---

### 4. 程序控制指令 (Ch12)
**功能**: 改变程序执行顺序（不是算术运算！）

**包含类型**:
- 无条件分支指令
- 条件分支指令
- 循环指令
- 子程序调用/返回

**不包含**: 隐含中断指令（这不是程序控制指令）

---

### 5. 指令字长计算 (Ch12-Q18) ⭐重点
**题目**: 29条三地址 + 107条二地址，地址字段6位，求最小指令字长

**分析**:
1. 三地址需要 5位操作码（29条 < 2^5=32）
2. 二地址需借用三地址的部分编码扩展
3. 三地址字段: 5 + 6×3 = 23位
4. 需考虑字节对齐 → 24位不够 → 28位

**易错点**: 多格式指令需统一考虑，且要考虑字节边界对齐

---

## 📝 详细错题记录

### Ch15 RISC vs CISC

#### 错题1: RISC 特征识别
**题目**: Which is NOT a characteristic of RISC?  
RISC的特征不包括哪项？

**错选**: ？ | **正确答案**: 少量通用寄存器 / 间接寻址

**解析**: RISC 特点是使用**大量通用寄存器**和**简单寻址方式**，拒绝间接寻址。

---

### Ch17 并行处理

#### 错题1: MESI 状态转换
**题目**: If Initiator has Exclusive and Snooper Reads, both become ______.

**错选**: ？ | **正确答案**: Shared

**解析**: 当一个处理器独占缓存行，另一个处理器读取时，两者都变为共享状态。

---

### Ch12 指令系统

#### 错题1: 程序控制指令分类
**题目**: 不属于程序控制指令的是？  
A. 无条件分支 B. 条件分支 C. 隐含中断 D. 循环

**错选**: ？ | **正确答案**: C. 隐含中断

**解析**: 隐含中断不是显式的程序控制指令，程序控制指令是用来改变执行顺序的。

---

#### 错题2: 扩展操作码计算
**题目**: 32位单字长指令，12位地址码，定义250条二地址指令，可能的一地址指令数？

**错选**: ？ | **正确答案**: 2^12 = 4096

**解析**: 
- 二地址操作码 = (32-24) = 8位
- 250条用掉250个编码，剩余 256-250 = 6 个
- 这6个可扩展为一地址: 6 × 2^12... (需要具体验证)

---

### Ch13 寻址方式

#### 错题1: 相对寻址计算
**题目**: 指令地址4000H，位移06H，执行后PC值？

**错选**: ？ | **正确答案**: 4008H (取决于具体题目设定)

**解析**: PC = 取指后PC + 位移 = 4002H + 06H = 4008H

---

### Ch7 I/O

#### 错题1: I/O 控制方式
**题目**: DMA方式下的描述，错误的是？

**错选**: ？ | **正确答案**: C (CPU执行DMA程序)

**解析**: DMA传输由**硬件控制器**执行，不需要CPU执行程序。

---

## 🎯 复习建议

### 需要重点加强的章节
1. **Ch15 RISC** (50%) - 背诵RISC四大特征
2. **Ch17 并行处理** (56%) - 画出MESI状态图
3. **Ch12 指令系统** (67%) - 练习扩展操作码计算
4. **Ch13 寻址方式** (67%) - 熟悉各种EA计算

### 明日复习计划
1. [ ] 完成 Ch14 处理器结构 (24道)
2. [ ] 完成 Ch19 控制单元 (2道)
3. [ ] 回顾今日错题，二刷错题

---

## 📌 核心公式速记

### Cache 映射
- **直接映射**: 行号 = 块号 mod Cache行数
- **组相联**: 组号 = 块号 mod 组数

### 寻址 EA 计算
- **相对寻址**: EA = (PC) + 位移
- **基址寻址**: EA = (BR) + 位移
- **变址寻址**: EA = (IX) + 位移

### IEEE 754
- 单精度: 1位符号 + 8位阶码 + 23位尾数
- 阶码偏移: 127

### MESI 协议
- Read → Shared
- Write → Modified (self) + Invalid (others)

---

## ✅ 所有章节已完成

### Ch14 处理器结构 (已完成 - 概念题)
**核心知识点**:
- 指令周期: Fetch → [Indirect] → Execute → [Interrupt]
- 间接周期的目的：获取操作数的地址
- MBR/MAR 的作用与总线连接
- 流水线限制因素：**条件分支指令**是最坏情况

### Ch19 控制单元 (已完成)
**核心知识点**:
- 控制单元输入：时钟、标志、IR、中断请求
- 控制单元输出：数据移动信号、功能激活信号、读/写/应答
- 典型微操作序列（取指、间址、执行）

---

*整理完成时间: 2025-12-15 19:26*
