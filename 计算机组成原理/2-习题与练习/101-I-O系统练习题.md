# 101-I-Oç³»ç»Ÿç»ƒä¹ é¢˜ (I/O System Exercises)

> **ç®€ä»‹**ï¼šæœ¬æ–‡ä»¶æ”¶å½•äº†è¾“å…¥/è¾“å‡ºç³»ç»Ÿç›¸å…³çš„ç»ƒä¹ é¢˜ï¼Œæ¶µç›–I/Oæ–¹å¼ï¼ˆç¨‹åºæŸ¥è¯¢ã€ä¸­æ–­ã€DMAï¼‰ã€I/Oæ¥å£ã€æ€»çº¿ç­‰è€ƒç‚¹ã€‚
> **Introduction**: This file contains exercises related to the Input/Output system, covering I/O modes (Programmed I/O, Interrupt-driven I/O, DMA), I/O interfaces, buses, etc.
> **æ¥æº**ï¼šç”¨æˆ·æä¾›
> **æœ€åæ›´æ–°**ï¼š2025å¹´1æœˆ

---

## ä¸€ã€å•é€‰é¢˜ (Multiple Choice Questions)

1. **â€œå½“CPUå‘I/Oæ¨¡å—å‘å‡ºå‘½ä»¤æ—¶ï¼Œå®ƒå¿…é¡»ç­‰å¾…I/Oæ“ä½œå®Œæˆâ€ã€‚è¿™æ˜¯ç¨‹åºæ§åˆ¶çš„I/Oï¼Œâ€œç­‰å¾…â€ä¸€è¯çš„æ„æ€æ˜¯______ã€‚**
   **"When the CPU issues a command to the I/O module, it must wait for the I/O operation to complete." This is programmed I/O. The term "wait" means ______.**
    A. CPUåœæ­¢è¿è¡Œï¼Œä»€ä¹ˆä¹Ÿä¸åš (CPU stops running and does nothing)
    B. CPU ä¼šæ‰§è¡Œå…¶ä»–æ“ä½œ (CPU will execute other operations)
    C. CPUä¼šå®šæœŸè¯»å–å¹¶æ£€æŸ¥I/Oæ¨¡å—çš„çŠ¶æ€ (CPU periodically reads and checks the status of the I/O module)
    D. CPUç­‰å¾…ä¸­æ–­è¯·æ±‚ä¿¡å· (CPU waits for an interrupt request signal)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): C**
> *   **è§£æ (Explanation)**:
> *   ç¨‹åºæ§åˆ¶çš„I/Oï¼ˆè½®è¯¢æ–¹å¼ï¼‰ä¸­ï¼ŒCPUä¸ä¼šåœæ­¢è¿è¡Œï¼Œè€Œæ˜¯ä¼š**å®šæœŸè¯»å–å¹¶æ£€æŸ¥I/Oæ¨¡å—çš„çŠ¶æ€å¯„å­˜å™¨**ï¼Œç›´åˆ°I/Oæ“ä½œå®Œæˆ (In programmed I/O, CPU periodically checks the status register until the operation is complete)ã€‚
> *   Aé”™è¯¯ï¼šCPUä¸ä¼šåœæ­¢è¿è¡Œï¼Œè€Œæ˜¯ç»§ç»­æ‰§è¡Œè½®è¯¢å¾ªç¯ã€‚
> *   Bé”™è¯¯ï¼šå¦‚æœCPUæ‰§è¡Œå…¶ä»–æ“ä½œï¼Œå°±æ— æ³•ç­‰å¾…I/Oæ“ä½œå®Œæˆã€‚
> *   Dé”™è¯¯ï¼šè¿™æ˜¯ä¸­æ–­é©±åŠ¨I/Oçš„ç‰¹ç‚¹ï¼Œä¸æ˜¯ç¨‹åºæ§åˆ¶I/Oã€‚
</details>

2. **åœ¨DMAä¸­ï¼ŒDMAæ¨¡å—æ¥ç®¡äº†ä»CPUä¼ è¾“æ•°æ®çš„æ“ä½œï¼Œè¿™æ„å‘³ç€___________**
   **In DMA, the DMA module takes over the operation of transferring data from the CPU, which means ___________**
    A. DMAæ¨¡å—å¯ä»¥åƒCPUä¸€æ ·è·å–å’Œæ‰§è¡ŒæŒ‡ä»¤ (DMA module can fetch and execute instructions like a CPU)
    B. DMAæ¨¡å—å¯ä»¥åˆ©ç”¨çªƒå–å‘¨æœŸæŠ€æœ¯æ§åˆ¶æ€»çº¿ï¼Œä»è€Œå®ç°ä¸å†…å­˜ä¹‹é—´çš„æ•°æ®ä¼ è¾“ (DMA module can control the bus using cycle stealing technique to achieve data transfer with memory)
    C. DMAæ¨¡å—å’ŒCPUååŒå·¥ä½œï¼Œå°†æ•°æ®ä¼ è¾“åˆ°å†…å­˜æˆ–ä»å†…å­˜ä¼ è¾“æ•°æ® (DMA module and CPU work together to transfer data to/from memory)
    D. å½“DMAæ¨¡å—å‡†å¤‡å°±ç»ªæ—¶ï¼Œå®ƒä¼šå‘CPUå‘å‡ºä¸­æ–­è¯·æ±‚ä¿¡å·ä»¥è·å–ä¸­æ–­æœåŠ¡ (When DMA module is ready, it sends an interrupt request signal to CPU for interrupt service)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): B**
> *   **è§£æ (Explanation)**:
> *   DMAï¼ˆDirect Memory Accessï¼‰çš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯DMAæ§åˆ¶å™¨**ç›´æ¥æ§åˆ¶æ€»çº¿**è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œæ— éœ€CPUå‚ä¸ (DMA controller directly controls the bus for data transfer without CPU intervention)ã€‚
> *   Bæ­£ç¡®ï¼šDMAé€šè¿‡**çªƒå–å‘¨æœŸæŠ€æœ¯**ï¼ˆcycle stealingï¼‰æˆ–**å—ä¼ è¾“æ¨¡å¼**æ§åˆ¶æ€»çº¿ï¼Œç›´æ¥åœ¨å†…å­˜å’ŒI/Oè®¾å¤‡ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚
</details>

3. **ä½¿ç”¨I/Oæ¨¡å—ä¼ è¾“æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨3ç§æŠ€æœ¯ã€‚å“ªä¸€ç§ä¸å±äºè¿™3ç§æŠ€æœ¯ï¼Ÿ**
   **Three techniques can be used to transfer data using I/O modules. Which one does not belong to these three techniques?**
    A. ä¸­æ–­é©±åŠ¨çš„ I/O (Interrupt-driven I/O)
    B. ç¨‹åºæ§åˆ¶è¾“å…¥/è¾“å‡º (Programmed I/O)
    C. ç›´æ¥ I/O è®¿é—® (Direct I/O Access)
    D. DMA

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): C**
> *   **è§£æ (Explanation)**:
> *   ä½¿ç”¨I/Oæ¨¡å—ä¼ è¾“æ•°æ®çš„ä¸‰ç§ä¸»è¦æŠ€æœ¯æ˜¯ï¼šç¨‹åºæ§åˆ¶I/Oã€ä¸­æ–­é©±åŠ¨I/Oã€DMAã€‚
> *   "ç›´æ¥I/Oè®¿é—®"ä¸æ˜¯æ ‡å‡†çš„ä¸‰ç±»I/OæŠ€æœ¯ä¹‹ä¸€ (Direct I/O Access is not one of the standard three techniques)ã€‚
</details>

4. **åœ¨å†…å­˜æ˜ å°„ I/O æ–¹æ³•ä¸­ï¼Œä¸»å†…å­˜å’Œ I/O è®¾å¤‡çš„åœ°å€é€šè¿‡________æ¥åŒºåˆ†ã€‚**
   **In the memory-mapped I/O method, the addresses of main memory and I/O devices are distinguished by ________.**
    A. å•ä¸ªåœ°å€ç©ºé—´å†…çš„ä¸åŒåœ°å€èŒƒå›´ (Different address ranges within a single address space)
    B. ä¸åŒçš„åœ°å€çº¿ (Different address lines)
    C. ä¸åŒçš„æ§åˆ¶çº¿ (Different control lines)
    D. ä¸åŒçš„æ•°æ®çº¿ (Different data lines)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): A**
> *   **è§£æ (Explanation)**:
> *   **å†…å­˜æ˜ å°„I/O**çš„ç‰¹ç‚¹æ˜¯å°†I/Oè®¾å¤‡å’Œä¸»å†…å­˜æ”¾åœ¨**åŒä¸€ä¸ªåœ°å€ç©ºé—´**ä¸­ï¼Œé€šè¿‡**ä¸åŒçš„åœ°å€èŒƒå›´**æ¥åŒºåˆ†å®ƒä»¬ (Memory-mapped I/O uses the same address space, distinguished by different address ranges)ã€‚
</details>

5. **ä»¥ä¸‹å“ªäº›æ˜¯ I/O æ¨¡å—ä¸­çš„å¯„å­˜å™¨ï¼Ÿ**
   **Which of the following are registers in an I/O module?**
   I. æŒ‡ä»¤å¯„å­˜å™¨ (Instruction Register)
   II. æ§åˆ¶å¯„å­˜å™¨ (Control Register)
   III. çŠ¶æ€å¯„å­˜å™¨ (Status Register)
   IV. å†…å­˜åœ°å€å¯„å­˜å™¨ (Memory Address Register)
   V. æ•°æ®ç¼“å†²å¯„å­˜å™¨ (Data Buffer Register)
    A. Iã€IIã€III
    B. IIã€IIIã€IV
    C. IIã€IIIã€V
    D. IIã€IIIã€IVã€V

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): C**
> *   **è§£æ (Explanation)**:
> *   I/Oæ¨¡å—ä¸­çš„å¯„å­˜å™¨ä¸»è¦åŒ…æ‹¬ï¼šæ§åˆ¶å¯„å­˜å™¨ã€çŠ¶æ€å¯„å­˜å™¨ã€æ•°æ®ç¼“å†²å¯„å­˜å™¨ (Control, Status, Data Buffer registers)ã€‚
> *   æŒ‡ä»¤å¯„å­˜å™¨ (IR) æ˜¯CPUçš„ã€‚å†…å­˜åœ°å€å¯„å­˜å™¨ (MAR) é€šå¸¸åœ¨CPUæˆ–DMAä¸­ã€‚
</details>

6. **ä½¿ç”¨ä¸­æ–­é©±åŠ¨ I/O æ—¶ï¼ŒI/O æ¨¡å—å’Œ I/O è®¾å¤‡ä¹‹é—´äº¤æ¢çš„ä¿¡æ¯ä¸åŒ…æ‹¬_______ã€‚**
   **When using interrupt-driven I/O, the information exchanged between the I/O module and the I/O device does not include _______.**
    A. æ•°æ®ä¿¡æ¯ (Data information)
    B. æ§åˆ¶ä¿¡æ¯ (Control information)
    C. çŠ¶æ€ä¿¡æ¯ (Status information)
    D. ä¸­æ–­è¯·æ±‚ä¿¡å· (Interrupt request signal)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): D**
> *   **è§£æ (Explanation)**:
> *   **ä¸­æ–­è¯·æ±‚ä¿¡å·**ï¼ˆDï¼‰æ˜¯I/Oæ¨¡å—**å‘CPUå‘é€**çš„ä¿¡å·ï¼Œç”¨äºé€šçŸ¥CPUæœ‰I/Oæ“ä½œéœ€è¦å¤„ç†ï¼Œè¿™ä¸æ˜¯I/Oæ¨¡å—å’Œè®¾å¤‡ä¹‹é—´äº¤æ¢çš„ä¿¡æ¯ (Interrupt request signal is sent from I/O module to CPU, not between module and device)ã€‚
</details>

7. **è®¾ç½®ä¸­æ–­ä¼˜å…ˆçº§ä»²è£é€»è¾‘çš„ç›®çš„æ˜¯________ã€‚**
   **The purpose of setting interrupt priority arbitration logic is ________.**
    A. ç”Ÿæˆä¸­æ–­å· (Generate interrupt number)
    B. ç¡®ä¿åœ¨æ‰€æœ‰åŒæ—¶å‘ç”Ÿçš„ä¸­æ–­è¯·æ±‚ä¸­ï¼Œä¼˜å…ˆçº§æœ€é«˜çš„è¯·æ±‚èƒ½å¤ŸåŠæ—¶å¾—åˆ°å“åº” (Ensure that among all simultaneous interrupt requests, the one with the highest priority is responded to in time)
    C. å…è®¸ CPU åˆ†æ”¯ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ (Allow CPU to branch to interrupt service routine)
    D. ä¸ºäº†æé«˜ä¸­æ–­å“åº”é€Ÿåº¦ (To improve interrupt response speed)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): B**
> *   **è§£æ (Explanation)**:
> *   ä¸­æ–­ä¼˜å…ˆçº§ä»²è£é€»è¾‘çš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼šå½“**å¤šä¸ªä¸­æ–­åŒæ—¶å‘ç”Ÿ**æ—¶ï¼Œç¡®ä¿**ä¼˜å…ˆçº§æœ€é«˜çš„ä¸­æ–­è¯·æ±‚èƒ½å¤ŸåŠæ—¶å¾—åˆ°å“åº”** (Ensure highest priority request is serviced first when multiple interrupts occur)ã€‚
</details>

8. **ä½¿ç”¨å †æ ˆä¿å­˜PCå’Œä½™æ•°ï¼ŒåŸå› æ˜¯______**
   **The reason for using the stack to save PC and other context is ______**
    A. ä¸€äº›ç”¨äºåœ¨ä¸­æ–­ç‚¹æ¢å¤å½“å‰ç¨‹åºçš„ä¿¡æ¯ (Some information used to restore the current program at the interrupt point)
    B. å‘ç”Ÿä¸­æ–­æ—¶ï¼ŒæŒ‡ä»¤ä¸ä¼šç›´æ¥æ‰§è¡Œå®Œæ¯•ï¼Œå› æ­¤ä¸­æ–­ç‚¹å¤„çš„æŒ‡ä»¤å¿…é¡»å†æ¬¡æ‰§è¡Œ (When an interrupt occurs, the instruction is not completed directly, so the instruction at the interrupt point must be executed again)
    C. å †æ ˆå¿…é¡»è·å–ä¸€äº›ç”¨äºåè¿›å…ˆå‡º (LIFO) çš„ä¿¡æ¯ (The stack must get some information for LIFO)
    D. ISR çš„èµ·å§‹åœ°å€å¿…é¡»é€šè¿‡å †æ ˆä¼ è¾“ (The starting address of the ISR must be transmitted through the stack)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): A**
> *   **è§£æ (Explanation)**:
> *   ä½¿ç”¨å †æ ˆä¿å­˜PCï¼ˆç¨‹åºè®¡æ•°å™¨ï¼‰å’Œå¯„å­˜å™¨çŠ¶æ€çš„åŸå› æ˜¯ï¼š**ä¿å­˜ä¸­æ–­ç‚¹å¤„çš„ç°åœºä¿¡æ¯ï¼Œä»¥ä¾¿ä¸­æ–­å¤„ç†å®Œæˆåèƒ½å¤Ÿæ¢å¤åŸç¨‹åºçš„æ‰§è¡Œ** (To save context at the interrupt point so execution can resume later)ã€‚
</details>

9. **ä¸ä¸­æ–­é©±åŠ¨çš„I/Oç›¸æ¯”ï¼ŒDMAè¿›ä¸€æ­¥æé«˜äº†CPUæ“ä½œçš„ä½¿ç”¨ç‡ï¼Œå› ä¸º_________**
   **Compared with interrupt-driven I/O, DMA further improves the utilization of CPU operations because _________**
    A. CPU ä¸éœ€è¦ä¿å­˜å’Œæ¢å¤åœºæ™¯ (CPU does not need to save and restore context)
    B. CPUæ— éœ€å¹²é¢„æ•°æ®ä¼ è¾“ (CPU does not need to intervene in data transfer)
    C. CPUæ— éœ€åå¤è¯»å–å’Œæ£€æŸ¥çŠ¶æ€ (CPU does not need to repeatedly read and check status)
    D. A å’Œ B éƒ½æˆç«‹ (Both A and B are true)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): D**
> *   **è§£æ (Explanation)**:
> *   DMAä¼ è¾“å®Œæˆåæ‰å‘ä¸­æ–­ï¼ŒCPUä¸éœ€è¦é¢‘ç¹ä¿å­˜å’Œæ¢å¤ç°åœº (A)ã€‚
> *   DMAæ§åˆ¶å™¨ç›´æ¥æ§åˆ¶æ€»çº¿ä¼ è¾“æ•°æ®ï¼ŒCPUæ— éœ€å¹²é¢„ä¼ è¾“è¿‡ç¨‹ (B)ã€‚
> *   å› æ­¤é€‰ Dã€‚
</details>

10. **åœ¨DMAè¿‡ç¨‹ä¸­ï¼ŒDMAæ¨¡å—ä½•æ—¶å‘CPUå‘å‡ºä¸­æ–­è¯·æ±‚ä¿¡å·ï¼Ÿ**
    **In the DMA process, when does the DMA module send an interrupt request signal to the CPU?**
    A. åœ¨DMAæ¨¡å—ä¼ è¾“æ•°æ®å—ä¹‹å‰ (Before the DMA module transfers the data block)
    B. DMAæ¨¡å—å®Œæˆå—æ•°æ®ä¼ è¾“å (After the DMA module completes the block data transfer)
    C. åœ¨DMAæ¨¡å—åœæ­¢ä½¿ç”¨æ€»çº¿ä¹‹å‰ (Before the DMA module stops using the bus)
    D. DMAæ¨¡å—ç»“æŸåå ç”¨æ€»çº¿ (After the DMA module finishes occupying the bus)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): B**
> *   **è§£æ (Explanation)**:
> *   DMAåœ¨**å®Œæˆæ•°æ®å—ä¼ è¾“å**ï¼Œå‘CPUå‘é€ä¸­æ–­ä¿¡å·é€šçŸ¥ä¼ è¾“å®Œæˆ (DMA sends interrupt after completing the block transfer)ã€‚
</details>

11. **ä½¿ç”¨I/Oæ¨¡å—ä¼ è¾“æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‰ç§æŠ€æœ¯ã€‚å“ªç§æŠ€æœ¯ä¸éœ€è¦CPUå¹²é¢„æ•°æ®ä¼ è¾“ï¼Ÿ**
    **Three techniques can be used when transferring data using I/O modules. Which technique does not require CPU intervention in data transfer?**
    A. ä¸­æ–­é©±åŠ¨çš„ I/O (Interrupt-driven I/O)
    B. ç¨‹åºæ§åˆ¶è¾“å…¥/è¾“å‡º (Programmed I/O)
    C. ç›´æ¥ I/O è®¿é—® (Direct I/O Access)
    D. DMA

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): D**
> *   **è§£æ (Explanation)**:
> *   åªæœ‰**DMA**ä¸éœ€è¦CPUå¹²é¢„æ•°æ®ä¼ è¾“è¿‡ç¨‹ (Only DMA does not require CPU intervention during data transfer)ã€‚
</details>

12. **ä¸‹åˆ—å“ªäº›ä¿¡æ¯æ˜¯é€šè¿‡æ•°æ®æ€»çº¿ä¼ è¾“çš„ï¼Ÿ**
    **Which of the following information is transmitted via the data bus?**
    I. å‘½ä»¤è¯ (Command words)
    II. çŠ¶æ€ (Status)
    III. ä¸­æ–­å· (Interrupt number)
    A. ä»… I å’Œ II
    B. ä»… I å’Œ III
    C. ä»… II å’Œ III
    D. Iã€II å’Œ III

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): D**
> *   **è§£æ (Explanation)**:
> *   **å‘½ä»¤è¯ã€çŠ¶æ€ä¿¡æ¯ã€ä¸­æ–­å·**éƒ½å¯ä»¥é€šè¿‡æ•°æ®æ€»çº¿ä¼ è¾“ (Command words, status, and interrupt numbers can all be transmitted via the data bus)ã€‚
</details>

13. **ä¸‹åˆ—å…³äºI/OæŠ€æœ¯çš„é™ˆè¿°å“ªä¸€é¡¹æ˜¯é”™è¯¯çš„ï¼Ÿ**
    **Which of the following statements about I/O technology is incorrect?**
    A. åœ¨ç¨‹åºæ§åˆ¶çš„ I/O ä¸­ï¼ŒI/O æ“ä½œç”± CPU æ‰§è¡Œè½®è¯¢ç¨‹åºæ¥å®Œæˆ (In programmed I/O, I/O operations are completed by CPU executing polling program)
    B. åœ¨ä¸­æ–­ I/O ä¸­ï¼ŒI/O æ“ä½œç”± CPU æ‰§è¡Œä¸­æ–­æœåŠ¡ä¾‹ç¨‹æ¥æ‰§è¡Œ (In interrupt I/O, I/O operations are executed by CPU executing ISR)
    C. åœ¨ DMA ä¸­ï¼ŒI/O æ“ä½œç”± CPU æ‰§è¡Œ DMA ä¼ è¾“ç¨‹åºæ¥å®Œæˆ (In DMA, I/O operations are completed by CPU executing DMA transfer program)
    D. å¯¹äº SSD ç­‰é«˜é€Ÿè®¾å¤‡ï¼ŒDMA ç”¨äºè¾“å…¥/è¾“å‡º (For high-speed devices like SSD, DMA is used for I/O)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer): C**
> *   **è§£æ (Explanation)**:
> *   **Cé”™è¯¯**ï¼šåœ¨DMAä¸­ï¼ŒI/Oæ“ä½œç”±**DMAæ§åˆ¶å™¨**ç›´æ¥å®Œæˆï¼ŒCPUåªè´Ÿè´£åˆå§‹åŒ–DMAï¼Œä¸æ‰§è¡ŒDMAä¼ è¾“ç¨‹åº (In DMA, I/O operations are performed by the DMA controller, not by the CPU executing a program)ã€‚
</details>

---

## äºŒã€ç®€ç­”é¢˜ (Short Answer Questions)

14. **ä¸€å°æœºå™¨æœ‰ 5 ä¸ªä¸­æ–­æºï¼ˆ1ã€2ã€3ã€4ã€5ï¼‰ï¼Œç¡¬ä»¶å›ºæœ‰ä¼˜å…ˆçº§ä¸º 1>2>3>4>5ã€‚ç°åœ¨å¸Œæœ›é€šè¿‡è½¯ä»¶æ©ç é‡æ–°æ’å‡ºå“åº”é¡ºåº 4>3>5>1>2ã€‚è¯·ï¼š**
    **A machine has 5 interrupt sources (1, 2, 3, 4, 5) with hardware priority 1>2>3>4>5. Now we want to rearrange the response order to 4>3>5>1>2 using software masks. Please:**
    1.  å†™å‡ºä¸æ¯ä¸ªä¸­æ–­æºå¯¹åº”çš„æ©ç å­—ï¼ˆä½åºç»Ÿä¸€ä¸º 1â†’2â†’3â†’4â†’5ï¼Œ1 è¡¨ç¤ºå±è”½ï¼Œ0 è¡¨ç¤ºå…è®¸ï¼‰ã€‚
        (Write the mask word corresponding to each interrupt source. Bit order 1->2->3->4->5, 1 means mask, 0 means allow.)
    2.  æŒ‰ä¸‹å›¾ç»™å‡ºçš„è§¦å‘æ—¶é—´ï¼ˆå•ä½ Âµsï¼šI2@5ã€I4@10ã€I3@30ã€I5@50ã€I1@70ï¼‰ç”»å‡º CPU æ‰§è¡Œä¸»ç¨‹åºä¸å„ ISR çš„æ—¶é—´è½´ï¼Œå‡è®¾æ¯ä¸ª ISR æ‰§è¡Œ 15 Âµsã€‚
        (Draw the timeline of CPU executing main program and ISRs based on trigger times: I2@5, I4@10, I3@30, I5@50, I1@70. Assume each ISR takes 15 Âµs.)

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer)**:
>
> **ï¼ˆ1ï¼‰æ©ç å­— (Mask Words)**
> | ä¸­æ–­æº (Source) | ç›®æ ‡é¡ºåº (Target Order) | æ©ç å­— (Mask 1->5) | è¯´æ˜ (Note) |
> |---|---|---|---|
> | 4 | 1st | `1 1 1 0 0` | å±è”½ 1,2,3 (Mask 1,2,3) |
> | 3 | 2nd | `1 1 0 1 1` | å±è”½ 1,2,4,5 (Mask 1,2,4,5) |
> | 5 | 3rd | `1 1 1 1 0` | å±è”½ 1,2,3,4 (Mask 1,2,3,4) |
> | 1 | 4th | `0 1 1 1 1` | å±è”½ 2,3,4,5 (Mask 2,3,4,5) |
> | 2 | 5th | `1 0 1 1 1` | å±è”½ 1,3,4,5 (Mask 1,3,4,5) |
>
> **ï¼ˆ2ï¼‰æ—¶é—´è½´ (Timeline)**
> *   0-10: ä¸»ç¨‹åº (Main Program)
> *   10-25: **ISR 4** (I4 å“åº” / I4 serviced)
> *   25-40: **ISR 3** (I3 å“åº” / I3 serviced)
> *   40-55: **ISR 5** (I5 å“åº” / I5 serviced)
> *   55-70: **ISR 1** (I1 å“åº” / I1 serviced)
> *   70-85: **ISR 2** (I2 å“åº” / I2 serviced)
> *   85+: ä¸»ç¨‹åº (Main Program)
</details>

15. **ï¼ˆ1ï¼‰åœ¨ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­ï¼ŒCPUä½•æ—¶å¯ä»¥å‘è¯·æ±‚ä¸­æ–­çš„I/Oæ¨¡å—å‘é€ç¡®è®¤ä¿¡å·ï¼Ÿ**
    **(1) During interrupt processing, when can the CPU send an acknowledgement signal to the requesting I/O module?**
    **ï¼ˆ2ï¼‰CPUä¼šå°†å½“å‰ç¨‹åºçš„ä¿¡æ¯ä¿å­˜åˆ°å †æ ˆä¸­ä»¥ä¾¿æ¢å¤æ‰§è¡Œã€‚å“ªäº›ä¿¡æ¯æ˜¯é‡è¦çš„ï¼Ÿ**
    **(2) The CPU saves the current program's information to the stack for resumption. What information is important?**

    <details>
<summary><strong>ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ (View Answer & Explanation)</strong></summary>

> *   **ç­”æ¡ˆ (Answer)**:
> *   **(1)**: CPUåœ¨**ä¸­æ–­å“åº”å‘¨æœŸ (Interrupt Acknowledge Cycle)** å‘é€ç¡®è®¤ä¿¡å· (INTA)ã€‚é€šå¸¸åœ¨æ£€æµ‹åˆ°ä¸­æ–­å¹¶å†³å®šå“åº”åã€‚
> *   **(2)**: é‡è¦çš„ä¿¡æ¯åŒ…æ‹¬ï¼š
> *   **ç¨‹åºè®¡æ•°å™¨ (PC)**: ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ (Address of next instruction).
> *   **ç¨‹åºçŠ¶æ€å­— (PSW)**: åŒ…å«çŠ¶æ€æ ‡å¿— (Status flags).
> *   **é€šç”¨å¯„å­˜å™¨ (General Purpose Registers)**: ä¿æŠ¤ç°åœº (Context protection).
</details>
