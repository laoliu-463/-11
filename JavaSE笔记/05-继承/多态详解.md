# 多态详解：同一句代码，不同对象干不同事

## ① 大白话：多态是啥？

多态就是：同一句代码，遇到不同的对象，干出来的事不一样。  
最经典一句话：

“父类引用指向子类对象，调用方法时执行子类版本。”

---

## ② 多态长什么样（你必须能一眼看懂）

```java
Parent p = new Child();
p.work(); // 实际跑 Child.work()
```

大白话：
- `p` 的“名义身份”是 Parent（写在左边）
- `p` 真正指向的是 Child 对象（new 的右边）
- 调方法时**看实际对象是谁**，所以跑子类方法

---

## ③ 面试/笔试：怎么考、怎么答（速记）

### 题 1：什么是多态？

标准答：  
多态是指父类引用可以指向子类对象，方法调用在运行时根据对象的实际类型进行动态绑定，从而表现出不同行为。

---

## ④ 多态的三个条件（必背）

要出现多态，一般要有：
1. 继承（extends）或实现接口（implements）
2. 方法重写（override）
3. 父类引用指向子类对象（向上转型）

---

## ⑤ 多态“只对方法有效”，对字段无效（超高频坑）

### 1）方法：看实际对象（动态绑定）

```java
Parent p = new Child();
p.work(); // Child.work()
```

### 2）字段：看引用类型（不多态）

```java
class Parent { int x = 1; }
class Child extends Parent { int x = 2; }

Parent p = new Child();
System.out.println(p.x); // 1 （看左边 Parent）
```

大白话：  
方法听“对象本人”，字段听“变量写的类型”。

---

## ⑥ 向上转型 / 向下转型（面试必问）

### 1）向上转型（Upcasting）——自动、一定安全

```java
Parent p = new Child();
```

大白话：  
“把学生当成人看”没问题。

### 2）向下转型（Downcasting）——要小心、可能炸

```java
Child c = (Child) p;
```

如果 p 其实不是 Child，会抛：  
`ClassCastException`

安全做法（必背）：

```java
if (p instanceof Child) {
    Child c = (Child) p;
}
```

---

## ⑦ 多态的最大意义（面试答题点）

写代码更通用，扩展更方便（开闭原则）。

大白话：
- 面向父类/接口写代码
- 以后加新子类，不用改调用方

---

## ⑧ 面试官最爱追问（你直接背答案）

### 追问 1：为什么 p.work() 会调用子类？

答：因为 Java 对实例方法采用动态绑定（运行时根据对象实际类型决定调用哪个重写方法）。

### 追问 2：static 方法有多态吗？

答：没有。static 是“类的”，看引用类型，不走动态绑定（那叫隐藏，不叫多态）。

### 追问 3：private / final 方法能多态吗？

答：
- final 不能重写，所以不存在多态变化
- private 子类看不见，也谈不上重写

---

## ⑨ 一句话背诵版（考前必背）

多态：父类引用指向子类对象，调用被重写的实例方法时在运行期动态绑定到子类实现；方法多态、字段不多态，向下转型可能抛 ClassCastException。
