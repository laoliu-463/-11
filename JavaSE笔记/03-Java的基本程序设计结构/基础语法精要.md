# Java 基础语法精要：避坑与底层

这章看起来简单，但面试官最喜欢在“数据类型转换”和“String”上挖坑。

---

## 1. 八大基本类型（必背）

| 类型 | 大小 | 默认值 | 包装类 |
| :--- | :--- | :--- | :--- |
| **byte** | 1字节 | 0 | Byte |
| **short** | 2字节 | 0 | Short |
| **int** | 4字节 | 0 | Integer |
| **long** | 8字节 | 0L | Long |
| **float** | 4字节 | 0.0f | Float |
| **double** | 8字节 | 0.0d | Double |
| **char** | 2字节 | '\u0000' | Character |
| **boolean** | 1bit/1字节 | false | Boolean |

> **面试坑点**：`float f = 3.4;` 会报错吗？  
> **答**：会。3.4 默认是 double，赋值给 float 必须强转或写成 `3.4f`。

---

## 2. 字符串 String：面试重灾区

### 2.1 不可变性 (Immutable)
String 一旦创建，内容就不能改。所有的修改操作（比如 `replace`）其实都是返回了一个**全新的对象**。
- **好处**：线程安全、节省空间（常量池）、安全（作为参数不会被改）。

### 2.2 字符串常量池
- `String s1 = "abc";` 👉 走常量池。
- `String s2 = new String("abc");` 👉 堆里开新空间。
- `s1 == s2` 是 `false`。**比内容永远用 `equals()`！**

---

## 3. 控制流与大数值
- **switch**：Java 7 开始支持 String，Java 12 以后有了新的表达式写法。
- **BigInteger & BigDecimal**：钱的事儿（精度要求高）必须用 `BigDecimal`，千万别用 `double`！

---

## 4. 面试高频问答
### Q1：`==` 和 `equals()` 的区别？
**答**：
- `==`：比的是地址（看是不是同一个东西）。
- `equals()`：默认比地址，但 String 等类重写了它，用来比内容。

### Q2：String、StringBuffer、StringBuilder 区别？
**答**：
- **String**：不可变，频繁修改性能差。
- **StringBuffer**：可变，线程安全（加了锁），慢。
- **StringBuilder**：可变，线程不安全，快（单线程首选）。
