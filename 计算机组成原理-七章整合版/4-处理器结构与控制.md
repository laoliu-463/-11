# 第4章：处理器结构与控制

> 目标：提炼 CPU 数据通路、控制器与流水线核心考点，配合索引快速回到原笔记查阅电路或公式。  
> 覆盖主题：13-CPU结构、14-指令执行周期、15-控制器设计、16-流水线技术、17-条件执行与流控制  
> 最后更新：2025 年 1 月

---

## 知识点简要介绍

1. **CPU 组成与寄存器**  
   - 运算器、控制器、寄存器组、内部总线；PC/IR/MAR/MDR/通用寄存器的角色。  
   - 单/双/三总线数据通路权衡，微操作序列描述。

2. **指令执行周期**  
   - 典型五阶段：取指 IF → 译码 ID → 执行 EX → 访存 MEM → 写回 WB。  
   - 使用 RTL/微操作表达每阶段信号；多周期/单周期控制差异。

3. **控制器设计**  
   - 硬布线控制：状态机 + 控制信号表，响应快但缺乏灵活性。  
   - 微程序控制：控制存储器 + 微指令格式，易扩展但速度受限；混合/纳控制器概念。

4. **流水线与冒险**  
   - 流水线性能：吞吐 = 1/Δt，执行时间 ≈ (k + n - 1)Δt；加速比受启动/排空影响。  
   - 冒险：结构/数据/控制；RAW 是最常考的数据冒险，前递 vs 插入气泡，分支预测/延迟槽处理控制冒险。

5. **条件执行与流控制**  
   - 条件码（N/Z/C/V）来源与更新；条件执行指令可减少分支。  
   - 流控制图（状态机/CFG）帮助分析程序路径与优化。

---

## 详细内容索引

| 主题 | 原文笔记 | 说明 |
|------|-----------|------|
| CPU 结构、寄存器与数据通路 | `13-CPU结构.md` | 五大部件、典型寄存器、单/双/三总线示意 |
| 指令执行过程与 RTL 描述 | `14-指令执行周期.md` | 分阶段微操作、控制信号表、多周期控制示例 |
| 硬布线 vs 微程序控制器 | `15-控制器设计.md` | 状态机设计步骤、微指令格式、性能比较 |
| 流水线技术与三大冒险 | `16-流水线技术.md` | 五级流水线图、前递/阻塞、分支预测、加速比公式 |
| 条件执行与流控制 | `17-条件执行与流控制.md` | 条件码寄存器、条件指令、控制流图与调试手段 |

> 阅读顺序建议：先用 `13/14` 打牢数据通路与执行流程，再学 `15` 的控制实现，最后以 `16/17` 理解流水线与条件控制细节。

---

**说明**：本章仅保留脉络速览与索引，详细电路图、状态表、推导与练习请见 `计算机组成原理/1-核心笔记/精简版/13~17`。待全部章节完成后，会统一更新导航并清理旧版 A4 内容。
